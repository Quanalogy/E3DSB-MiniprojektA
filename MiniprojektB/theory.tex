% !TEX root = main.tex

\section{Introduction}
This project investigates the usage of different digital filters as equalizers. The filter types used are Finite Impulse Respones (FIR) and Infinite Impulse Response (IIR) filters.

FIR filters has a finite memory, and only allows an impulse response to affect the system for a FINITE amount of time.
IIR filters allows the impulse response to affect the system for an INFINITE amount of time.
There are a few key differences between the FIR and IIR.
A FIR filter can run on integer math, whereas IIR requires floating point for the calculations not to blow up. The phase is kept much more stable by using a FIR filter, compared to an IIR filter.
An IIR filter requires fewer coefficients, less memory and is generally faster than a FIR filter.

For this project we are asked to divide the filters into five different bands. Generelly speaking the human hearing is between \SI{20}{\hertz} and \SI{20}{\kilo\hertz} The five bands are inspired by the Wikipedia article on Audio frequency\footnote{https://en.wikipedia.org/wiki/Audio\_frequency} and are adjusted to fit our range of five bands in the range of \SIrange{0}{22050}{\hertz}. The used values are seen in \cref{tab:FiveBand}.

\begin{table}[h]
	\caption{The frequency bands filtered out. \SI{22050}{\hertz} is the upper limit of frequencies for the analyzed music.
	\label{tab:FiveBand}
	\begin{tabularx}{\textwidth}{X X}
		\textbf{Frequency} (\si{\hertz})	& \textbf{Description} \\
		\toprule
		\numrange{0}{512}		& Rhythm frequencies. \\
		\numrange{512}{2048}	& Horn like and tinny quality. Regular speach lies here. \\
		\numrange{2048}{8192}	& Labial and fricative sounds. \\
		\numrange{8192}{16384}	& Sounds of bells and ringing. \\
		\numrange{16384}{22050} & 	Beyond Brilliance, nebulous sounds approaching and just passing the upper human threshold of hearing. \\
	\end{tabularx}
\end{table}

Lav i Matlab en audio equalizer. Equalizeren skal kunne justere niveauet på et indkommende lydsignal individuelt i fem forskellige frekvensbånd fordelt over (og dækkende) det hørbare spektrum med +/- 12 dB. Eksempelvis et bånd fra 0 hertz (eller måske 20 Hz) til 200 Hz. Herefter evt. 200-700 Hz og så fremdeles.

Der skal i opgaven indgå filtre af begge typer (FIR og IIR). Man har frie hænder til valg af designmetode. Vinduesmetoden er fin, hvis det skal foregå manuelt, - ellers er fir1.m og butter.m i Matlab gode bud.

Eksperimenter i opgaven med filterorden og knækfrekvenser. Dokumenter eksperimenterne. Equalizerens samlede impulsrespons og overføringskarakteristik (altså amplitude og fase i frekvens-domænet) skal kunne vises. Dvs. den samlede virkning af de fem filtre fra input til output.

\section{Expectations}
\label{sec:expectations}
We are going to do a few experiments comparing FIR and IIR, but also a few investigating the way either of them works.

\begin{table}
	\caption{Comparing equivalent IIR- and FIR filters.}
	\label{tab:IIRvsFIR}
	\begin{tabularx}{\textwidth}{X X X}
		Statement to test	& Expected Result	& Result \\
		\toprule
		The phase is more stable for a FIR filter & The phase of a signal is affected less by running it thorugh a FIR filter than through an IIR filter. & \\
		IIR is faster		& Using tic toc in Matlab during the filtering, IIR filter will yield a lower value. & \\
	\end{tabularx}
\end{table}

\begin{table}
	\caption{Investigation of altering the IIR coefficients.}
	\label{tab:IIRtest}
	\begin{tabularx}{\textwidth}{X X X}
		Statement to test	& Expected Result	& Result \\
		\toprule
		IIR calculation time scales exponentially with increasing coefficients. & By multiplying the coefficients by 2, 4 or 8, the calculation time increases exponentially. & \\
	\end{tabularx}
\end{table}